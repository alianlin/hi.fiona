<!DOCTYPE html>
<html>
<head>
  <title>圖片上傳</title>
  <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>
</head>
<body>
  <button id="upload_widget">上傳圖片</button>

  <script type="text/javascript">
    const widget = cloudinary.createUploadWidget({
      cloudName: 'ddhbsteya',
      uploadPreset: 'ml_default',
      folder: 'uploads', // 可選，會存在 uploads 資料夾中
      multiple: false,   // 可改 true 讓使用者一次上傳多張
      maxFileSize: 2000000, // 限制檔案大小（單位 byte，例如 2MB）
    }, (error, result) => {
      if (!error && result && result.event === "success") {
        console.log('上傳成功：', result.info.secure_url);
        // 👉 在這裡你可以接下來做寫入 Google Sheets 的動作
      }
    });

    document.getElementById("upload_widget").addEventListener("click", () => {
      widget.open();
    });
  </script>
</body>
</html>